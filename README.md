# Context-Free Grammar Parser

This is a Java implementation of the Cocke-Younger-Kasami (CYK) algorithm for context-free grammars. The algorithm takes as input a context-free grammar and an input string, and determines whether the input string can be derived from the grammar. The CYK algorithm uses dynamic programming to determine whether a given input string can be generated by a given context-free grammar.

## Usage

First and foremost, your CFG should be in CNF. The CYK Parser won't work otherwise.

There should be logical progression in your CFG and the input string you are passing.

The `Lexer` class takes a list of strings given from File.readAllLines(<filePath>) as input and returns an Array List of type `Token`. It does this by requiring nonterminals as Upper case and terminals as lower case. If you input your grammar correctly, Lex() in your main method of `App.java` should return an ArrayList of tokens.

The `Parser` class has a `parse` method which takes an `ArrayList<Token>` of grammar rules as input and returns a `HashMap<String, ArrayList<Token>>` of the rules. The rules can then be used to parse input strings using the `CYK` class.

The input grammar file should contain one rule per line, in the following format:

```
input:teststring
<nonterminal>: <NONTERMINAL | TERMINAL> | <NONTERMINAL | TERMINAL> | ... | <NONTERMINAL | TERMINAL> | epsilon
...
```


The expressions can be a mix of terminals, nonterminals, and the exact word `epsilon` (empty string).

## Dependencies

This project uses Java 14 and does not have any external dependencies.

## Files

The project contains the following files:

- `Parser.java` - contains the main class for parsing the input grammar and building the rule map.
- `CYK.java` - contains the main class for parsing input strings using the Cocke-Younger-Kasami algorithm.
- `Lexer.java` - contains the class for lexical analysis.
- `Token.java` - contains the `Token` class and `TokenType` enum used by the lexer.

## How it works

The main method checks if logging is enabled. We then input and lex our strings, we then find the starting rule for the grammar by looking for a rule with an epsilon transition. If there is no rule with an epsilon transition it takes the second token in the ArrayList of tokens and removes the second token as our start rule. It then checks if the input string contains any terminals that are not part of the language and exits with an error if it does.
The CYK algorithm is implemented using a triangular table of sets of non-terminals, with the first row initialized to the non-terminals that can generate the first character of the input string. The algorithm then iteratively fills in the remaining cells of the table using the CYKSquare method, which combines the non-terminals in two cells to generate the non-terminals that can generate the current cell.

Finally, the algorithm checks if the starting rule is in the last cell of the table, indicating that the input string can be generated by the grammar. The total time taken by the algorithm is logged.

For the following grammar and input string:
```
input:aaabbb
A : CD | CB | epsilon
S : CD | CB
B : SD
C : a
D : b
```

Will produce this CYK table.

```
 |    | 1    | 2    | 3    | 4    | 5    | 6   |i
 |--- |----- |----- |----- |----- |----- |-----|
j| 1  |C     |      |      |      |      |     |
 | 2  |  0   |C     |      |      |      |     |
 | 3  |  0   |  0   |C     |      |      |     |
 | 4  |  0   |  0   |A,S   |D     |      |     |
 | 5  |  0   |A,S   |B     |  0   |D     |     |
 | 6  |A,S   |B     |  0   |  0   |  0   |D    |
 |--- |----- |----- |----- |----- |----- |-----|
 ```

In this printout: i,j are our CYK coordinates. Use the column as your i and the row as your j.
0 denotes a null/the empty set.
For the input string: (1,1:C),(2,2:C),(3,3:C),(4,4:D),(5,5:D),(6,6:D)
For the final check, if you check (1,6:A,S) If the location 1,6 contains your start rule, which is S in this case, the string will be accepted.

## NOTE
```
This code will only accept 1 grammar and input string at a time. You must completely change the grammar.txt file 
in the tests folder to your new grammar and input string to test a new grammar and input string.
```

## Authors

CYK Parser created by Alexander Crowe, Gregory Vincent, Owen Sterling, Hana Kastrati, and Thomas Lloyd-Jones.

## License

This project is licensed under the MIT License. See the `LICENSE` file for details.
